<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="ballcollected" sid="797344180400547" static="0" type="number">0</variable>
        <comment>Always make the player look at the mouse.</comment>
        <event-block sid="797307684827035">
            <conditions>
                <condition id="-1" name="Every tick" sid="869976389612007" type="System" />
            </conditions>
            <actions>
                <action id="-22" name="Set angle toward position" sid="742230960388165" type="Player">
                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                </action>
            </actions>
        </event-block>
        <comment>If a bullet hits an enemy, subtract 10 from its health.  When an enemy runs out of health, destroy it.</comment>
        <event-block sid="562602532936884">
            <conditions>
                <condition id="0" name="On collision with another object" sid="778197815530899" type="Bullet">
                    <param id="0" name="Object">dog</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Subtract from" sid="828768858616521" type="dog">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Value">10</param>
                </action>
                <action id="-9" name="Destroy" sid="844983735692553" type="Bullet" />
            </actions>
        </event-block>
        <event-block sid="726758033716169">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="761824739439752" type="dog">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="678333564217372" type="dog" />
            </actions>
        </event-block>
        <event-block sid="551356610365511">
            <conditions>
                <condition id="0" name="On key pressed" sid="497083695029060" type="Keyboard">
                    <param id="0" name="Key">32 (Space)</param>
                </condition>
                <condition id="1" name="Is overlapping another object" sid="891897012252651" type="Player">
                    <param id="0" name="Object">Bullet2</param>
                </condition>
                <condition id="-11" name="For Each" sid="590015697589406" type="System">
                    <param id="0" name="Object">Bullet2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Add to" sid="421335883100217" type="System">
                    <param id="0" name="Variable">ballcollected</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-9" name="Destroy" sid="513160511463434" type="Bullet2" />
            </actions>
        </event-block>
        <comment>Shoot 10 times a second while holding the left mouse button down.  Adjust the bullet angle by a random amount (-4 to +4 degrees) to add some inaccuracy to the firing.</comment>
        <event-block sid="647608844523172">
            <conditions>
                <condition id="2" name="Mouse button is down" sid="867747573585997" type="Mouse">
                    <param id="0" name="Mouse button">0</param>
                </condition>
                <condition id="-14" name="Compare variable" sid="816191507363841" type="System">
                    <param id="0" name="Variable">ballcollected</param>
                    <param id="1" name="Comparison">4</param>
                    <param id="2" name="Value">0</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="401029220844932" type="System">
                    <param id="0" name="Interval (seconds)">0.1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-11" name="Subtract from" sid="287493239349211" type="System">
                    <param id="0" name="Variable">ballcollected</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="0" name="Spawn another object" sid="162713956274360" type="Player">
                    <param id="0" name="Object">Bullet</param>
                    <param id="1" name="Layer">&quot;Game&quot;</param>
                    <param id="2" name="Image point">&quot;ShootPoint&quot;</param>
                </action>
                <action id="-18" name="Rotate clockwise" sid="913588623158791" type="Bullet">
                    <param id="0" name="Degrees">random(-4, 4)</param>
                </action>
            </actions>
        </event-block>
        <comment>Allow WASD as alternate controls to the default arrow keys.</comment>
        <event-block sid="649260711827318">
            <conditions>
                <condition id="2" name="Key is down" sid="393757666450576" type="Keyboard">
                    <param id="0" name="Key">87 (W)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="156539974767870" type="Player">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="388813066109495">
            <conditions>
                <condition id="2" name="Key is down" sid="866240757322009" type="Keyboard">
                    <param id="0" name="Key">65 (A)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="768978581412684" type="Player">
                    <param id="0" name="Control">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="196494790655053">
            <conditions>
                <condition id="2" name="Key is down" sid="546104784291087" type="Keyboard">
                    <param id="0" name="Key">83 (S)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="872307906312735" type="Player">
                    <param id="0" name="Control">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="577230194312837">
            <conditions>
                <condition id="2" name="Key is down" sid="666238397266456" type="Keyboard">
                    <param id="0" name="Key">68 (D)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="140989434084639" type="Player">
                    <param id="0" name="Control">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Lines 1-15: Player Movement</comment>
        <event-block any="1" sid="479210033369573">
            <conditions>
                <condition id="0" name="On key pressed" sid="657861384578902" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
                <condition id="0" name="On key pressed" sid="846638183201111" type="Keyboard">
                    <param id="0" name="Key">68 (D)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="416467365928924" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="992423585573671">
            <conditions>
                <condition id="0" name="On key pressed" sid="239481406352847" type="Keyboard">
                    <param id="0" name="Key">40 (Down arrow)</param>
                </condition>
                <condition id="0" name="On key pressed" sid="483341572439153" type="Keyboard">
                    <param id="0" name="Key">83 (S)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="679147714082162" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Value">90</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="158589925369728">
            <conditions>
                <condition id="0" name="On key pressed" sid="949200328499686" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
                <condition id="0" name="On key pressed" sid="362997094407531" type="Keyboard">
                    <param id="0" name="Key">65 (A)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="279189071679939" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Value">180</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="733317865650036">
            <conditions>
                <condition id="0" name="On key pressed" sid="852063421253220" type="Keyboard">
                    <param id="0" name="Key">38 (Up arrow)</param>
                </condition>
                <condition id="0" name="On key pressed" sid="609149823310676" type="Keyboard">
                    <param id="0" name="Key">87 (W)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="385210533110521" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Value">270</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="583544598178633">
            <conditions>
                <condition id="3" name="On key released" sid="491871843912397" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
                <condition id="3" name="On key released" sid="741804335128509" type="Keyboard">
                    <param id="0" name="Key">68 (D)</param>
                </condition>
                <condition id="3" name="On key released" sid="112054045529834" type="Keyboard">
                    <param id="0" name="Key">40 (Down arrow)</param>
                </condition>
                <condition id="3" name="On key released" sid="730324477068168" type="Keyboard">
                    <param id="0" name="Key">83 (S)</param>
                </condition>
                <condition id="3" name="On key released" sid="594050742305698" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
                <condition id="3" name="On key released" sid="298504410616343" type="Keyboard">
                    <param id="0" name="Key">65 (A)</param>
                </condition>
                <condition id="3" name="On key released" sid="827861375597404" type="Keyboard">
                    <param id="0" name="Key">38 (Up arrow)</param>
                </condition>
                <condition id="3" name="On key released" sid="474298207679598" type="Keyboard">
                    <param id="0" name="Key">87 (W)</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block any="1" sid="507349325442006">
                    <conditions>
                        <condition id="2" name="Key is down" sid="886009479060633" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="658716325462992" type="Player">
                            <param id="0" name="Instance variable">dir</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="128637727995146">
                    <conditions>
                        <condition id="-22" name="Else" sid="773011335514553" type="System" />
                        <condition id="2" name="Key is down" sid="546054844088366" type="Keyboard">
                            <param id="0" name="Key">40 (Down arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="677701583619603" type="Player">
                            <param id="0" name="Instance variable">dir</param>
                            <param id="1" name="Value">90</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="170986715297830">
                    <conditions>
                        <condition id="-22" name="Else" sid="883231478823235" type="System" />
                        <condition id="2" name="Key is down" sid="677806244312331" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="719665103310516" type="Player">
                            <param id="0" name="Instance variable">dir</param>
                            <param id="1" name="Value">180</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="961968404568465">
                    <conditions>
                        <condition id="-22" name="Else" sid="188643436647148" type="System" />
                        <condition id="2" name="Key is down" sid="896787393335417" type="Keyboard">
                            <param id="0" name="Key">38 (Up arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="554447327780601" type="Player">
                            <param id="0" name="Instance variable">dir</param>
                            <param id="1" name="Value">270</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="270945503558887">
                    <conditions>
                        <condition id="-22" name="Else" sid="144731440750500" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="242236233508467" type="Player">
                            <param id="0" name="Instance variable">dir</param>
                            <param id="1" name="Value">-1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="903290703976748">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="667460620902064" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="399427272917187" type="Player">
                    <param id="0" name="Control">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="811864238650519">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="697732973790006" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">90</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="112389334537170" type="Player">
                    <param id="0" name="Control">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="271742105512940">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="488430316451975" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">180</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="679653645506912" type="Player">
                    <param id="0" name="Control">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="425268453102820">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="112386563284336" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">270</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="477103044281712" type="Player">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="748051001884415">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="194270580925686" type="Player">
                    <param id="0" name="Instance variable">dir</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">-1</param>
                </condition>
            </conditions>
            <actions />
        </event-block>
        <event-block sid="316377848063578">
            <conditions>
                <condition id="-29" name="On load complete" sid="816734960718493" type="System" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="609150972072988" type="dog">
                    <param id="0" name="Obstacle">tree</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="636521329823486" type="dog">
                    <param id="0" name="Obstacle">tree2</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="788250295377695" type="dog">
                    <param id="0" name="Obstacle">school</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="905024065605111" type="dog">
                    <param id="0" name="Obstacle">bush</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="455541484425074" type="dog">
                    <param id="0" name="Obstacle">bush</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="851602792272923" type="dog">
                    <param id="0" name="Obstacle">tree</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="518354977663610" type="dog">
                    <param id="0" name="Obstacle">tree2</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="825310784998191" type="dog">
                    <param id="0" name="Obstacle">slide</param>
                </action>
                <action behavior="LineOfSight" id="2" name="Add obstacle" sid="418639098558918" type="dog">
                    <param id="0" name="Obstacle">slide</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="276352766496980">
            <conditions>
                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="449275963855816" type="dog">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="971694080951031" type="dog">
                    <param id="0" name="X">Player.X</param>
                    <param id="1" name="Y">Player.Y</param>
                </action>
                <action id="-13" name="Set boolean" sid="222084598662586" type="dog">
                    <param id="0" name="Instance variable">hasLOS</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="429685371596982">
            <conditions>
                <condition behavior="Pathfinding" id="0" name="On path found" sid="644918955388568" type="dog" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="1" name="Move along path" sid="431756234298385" type="dog" />
            </actions>
        </event-block>
        <event-block sid="108405070108566">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="906447689965921" type="dog">
                    <param id="0" name="Instance variable">hasLOS</param>
                </condition>
            </conditions>
            <actions>
                <action id="-22" name="Set angle toward position" sid="641909229225794" type="dog">
                    <param id="0" name="X">Player.X</param>
                    <param id="1" name="Y">Player.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="220750944397768">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="791277971098351" type="dog">
                    <param id="0" name="Object">Player</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="683950025978545" type="System">
                    <param id="0" name="Interval (seconds)">0.5</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Subtract from" sid="316118483142744" type="Player">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Value">10</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="735333637465923">
            <conditions>
                <condition id="-1" name="Every tick" sid="752884189099024" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="481134721547078" type="health">
                    <param id="0" name="Text">&quot;Health: &quot;&amp;Player.health&amp;&quot;/100&quot; </param>
                </action>
                <action id="0" name="Set text" sid="943170046495518" type="bulletTxt">
                    <param id="0" name="Text">&quot;Balls: &quot;&amp; ballcollected</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="836385496662787">
            <conditions>
                <condition id="0" name="On click" sid="251052012306859" type="Mouse">
                    <param id="0" name="Mouse button">2</param>
                    <param id="1" name="Click type">0</param>
                </condition>
                <condition id="1" name="Is overlapping another object" sid="529338178077391" type="Player">
                    <param id="0" name="Object">dog</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Subtract from" sid="395321783678418" type="dog">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Value">10</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="314514556798920">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="745413321750263" type="Player">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="649844047875030" type="Player" />
                <action id="-3" name="Set position" sid="669889058508894" type="Text2">
                    <param id="0" name="X">625</param>
                    <param id="1" name="Y">200</param>
                </action>
                <action id="-3" name="Set position" sid="130740368530564" type="Button">
                    <param id="0" name="X">550</param>
                    <param id="1" name="Y">500</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="476817641965709">
            <conditions>
                <condition id="0" name="On clicked" sid="533015636855363" type="Button" />
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="426510050486109" type="System" />
            </actions>
        </event-block>
    </events>
</c2eventsheet>
